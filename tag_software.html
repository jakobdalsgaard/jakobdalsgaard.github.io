<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>Jakob Dalsgaards blog &mdash; Posts tagged "software"</title>
<meta name='twitter:card' content='summary' />
<meta name='twitter:site' content='@jakobdalsgaard' />
<meta name='twitter:title' content='Jakob Dalsgaards blog &mdash; Posts tagged "software"' />
<meta name='twitter:description' content=" Pedestrian Site   December 27, 2025 &mdash;  Jakob Dalsgaard    This is a short introduction of the Mistral AI powered Django application builder available at pedestrian.site. This service aims at building a fully functional Django application given" />
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://blog.dalsgaard.net//index.html">Jakob Dalsgaards blog</a></h1>
<div id="description">Anything...</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="pedestrian-site.html">
Pedestrian Site
</a></h3>
<!-- bashblog_timestamp: #202512270028.44# -->
<div class="subtitle">December 27, 2025 &mdash; 
Jakob Dalsgaard
</div>
<!-- text begin -->

<p>This is a short introduction of the Mistral AI powered Django application builder available at <a href="https://pedestrian.site/">pedestrian.site</a>.
This service aims at building a fully functional Django application given a short description of the requirements. Using the service is fairly simple, head
to the site and login or register:</p>

<p><img src="media/pedestrian-login-resized.png" alt="Frontpage" title="" /></p>

<p>You need to register with a valid email address as you will be sent a validation email; once you have validated your email, you should be able to
login and create applications. You can select 'Create New App', 'My Applications' or 'Support Tickets' -- as can be seen here:</p>

<p><img src="media/pedestrian-dashboard-resized.png" alt="Dashboard" title="" /></p>

<p>Now, when creating an application, you'll be assigned a container in which Mistral attempts to build the application; the web application
running inside this container will be accessible online through a link like this one: <a href="https://9d157f4a-bdee-4f7d-8971-3f28e98ba234.pedestrian.site/">9d157f4a-bdee-4f7d-8971-3f28e98ba234.pedestrian.site/</a> 
-- this is the link you see on the details page next
to the application name. </p>

<p><img src="media/pedestrian-app-link.png" alt="Application Link" title="" /></p>

<p>Even if Mistral believes the application generation failed, you might actually have something running. You may continue the conversation
with Mistral at the bottom of the page.</p>

<p>Right now the tool does not have integration to any revision system; however, you may download the full application by using the 'Download App' button. Also, there is no
email functionality easily available -- it might come, it might not. You should also be aware that the container assigned to your application is limited in terms of CPU, memory and disk <em>and</em> it will
be paused after 2 weeks -- this'll give me some time to figure out next steps for this service.</p>

<p>Tags: <a href='tag_computer.html'>computer</a>, <a href='tag_software.html'>software</a>, <a href='tag_ai.html'>ai</a></p>
<!-- text end -->
<p id='twitter'><a href="http://blog.dalsgaard.net//pedestrian-site.html#disqus_thread">Comments?</a> &nbsp;
<a href="https://twitter.com/share" class="twitter-share-button" data-text="&lt;Type your comment here but please leave the URL so that other people can follow the comments&gt;" data-url="http://blog.dalsgaard.net//pedestrian-site.html"
 data-via="jakobdalsgaard"
>Tweet</a>	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</p>
<h3><a class="ablack" href="prometheus-amok.html">
Prometheus Amok
</a></h3>
<!-- bashblog_timestamp: #202004012253.28# -->
<div class="subtitle">April 01, 2020 &mdash; 
Jakob Dalsgaard
</div>
<!-- text begin -->

<p>Got my new setup with a Linux box as router (an old Dell PowerEdge, but with two
gigabit ports, and it handles gigabit traffic tremendously well, couldn't be
happier).  Besides the Linux box, I now run a managed switch and an Ubiquiti
access point. All this equipment can be monitored in very many ways; but I'd
like the metrics to be gathered in one uniform application, so I installed
<a href="https://prometheus.io/">Prometheus</a> - a time series database to store all sorts
of metrics in; I then put <a href="https://grafana.com/">Grafana</a> in front of it --
whilst Prometheus has a very nice UI itself, Grafana does come with a lot of
nice features, such as dashboards and alerting.</p>

<h2>The World of Prometheus Exporters</h2>

<h3>Unifi Prometheus Exporter</h3>

<p>To be fetched from here: <a href="http://github.com/mdlayher/unifi">Unifi Scraper</a> â€” now 
author recommends a docker; I'm more a fan of running my stuff on a real machine. So
I opted for a plain normal install on the box.</p>

<pre><code>export SRCDIR=$PWD
mkdir -p src/github.com/mdlayher
cd src/github.com/mdlayher
git clone https://github.com/mdlayher/unifi_exporter.git
cd unifi_exporter
go get
GOPATH=$SRCDIR go build ./cmd/unifi_exporter
</code></pre>

<p>And voil&aacute; I have the static binary <code>unifi_exporter</code>; copy that one to <code>/usr/local/sbin</code>; then make a
service unit file:</p>

<pre><code>[Unit]
Description=Prometheus Unifi Exporter

[Service]
ExecStart=/usr/local/sbin/unifi_exporter -config.file /etc/prometheus/prometheus-unifi-exporter.yml

[Install]
WantedBy=multi-user.target
</code></pre>

<p>Save that in <code>prometheus-unifi-exporter.service</code>, copy to <code>/etc/systemd/system/</code> and do a <code>systemctl daemon-reload</code>.</p>

<p>The yaml config file can look like this:</p>

<pre><code>listen:
  address: :9130
  metricspath: /metrics
unifi:
  address: https://my.domain.name:9445
  username: PrometheusUnifiExporter
  password: DamnPrometheus
  site:
  insecure: true
  timeout: 5s
</code></pre>

<p>For this go program to accept the Unifi application, I need to install at least a
self signed certificate in Unifi, and Ubiqiti has not made that proces easy. I found
it to work this way:</p>

<p>First create a self signed certificate with your designed hostname as CN:</p>

<pre><code># Make self signed certs
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365
</code></pre>

<p>Then convert it to pkcs12 to have something the Unifi java application wants to play with:</p>

<pre><code># pacakge in pkcs12
openssl pkcs12 -export -in cert.pem -inkey key.pem -out unifi.p12 -name unifi  -caname root
</code></pre>

<p>Now update the keystore with this very fine pkcs12 certificate:</p>

<pre><code># use keytool to update keystore
keytool -importkeystore -deststorepass aircontrolenterprise -destkeypass aircontrolenterprise -destkeystore new-keystore -srckeystore unifi.p12 -srcstoretype PKCS12 -srcstorepass temppass -alias ubnt -noprompt
</code></pre>

<p>I believe <code>keytool</code> can come from just about any java you have lying around. Now shut down your Unifi Controller application, take a backup copy of
<code>/usr/lib/unifi/data/keystore</code> file, copy <code>new-keystore</code> to <code>/usr/lib/unifi/data/keystore</code> and start your Unifi Controller again and your Unifi
Controller should be running with a brand new self signed certificate.</p>

<p>Now the prometheus unifi exporter service can be installed by doing <code>systemctl start prometheus-unifi-exporter</code>.</p>

<h3>Openhab Exporter</h3>

<p>I run openhab2, so obviously I needed an exporter for that too -- found this one: https://github.com/baaym/openhab2-prometheus-exporter -- and
it looked fine, installed it in <code>/opt/openhab2-exporter</code> did the relevant gunicorn install:</p>

<pre><code>sudo apt install python3-gunicorn
</code></pre>

<p>Make sure you change line 7 in the python script to reflect your openhab setup, the line looks like this <code>url = urllib.request.urlopen('http://...</code>
-- the address there should match your openhab2 configuration.
Then did a systemctl module file by the name of <code>/etc/systemd/system/openhab2-exporter.service</code> -- with contents:</p>

<pre><code>[Unit]
Description=OpenHAB2 Prometheus exporter
After=openhab2.service

[Service]
WorkingDirectory=/opt/openhab2-exporter
ExecStart=/usr/bin/gunicorn3 -w 4 -b 127.0.0.1:9195 openhab2-exporter:app
Restart=on-failure

[Install]
WantedBy=multi-user.target
Alias=openhab2-exporter.service
</code></pre>

<p>Then <code>sudo systemctl daemon-reload</code> and <code>sudo systemctl start openhab2-exporter</code> -- and adding this configuration to prometheus.yml:</p>

<pre><code>  - job_name: 'openhab2_exporter'
    scrape_interval: 10s
    scheme: http
    static_configs:
      - targets:
        - 'localhost:9195'
</code></pre>

<p>A restart of prometheus and it's data is available.</p>

<h3>SNMP Exporter</h3>

<p>Well.. SNMP is not <em>that</em> easy to understand, imho. But this project <a href="https://github.com/prometheus/snmp_exporter">Prometheus SNMP Exporter</a>
does a fairly good job of easing the trouble. Got it installed and running. Did a unit file <code>prometheus-snmp-exporter.service</code>:</p>

<pre><code>[Unit]
Description=Prometheus exporter for SNMP-enabled devices
Documentation=https://github.com/prometheus/snmp_exporter
After=network.target

[Service]
User=prometheus
EnvironmentFile=/etc/default/prometheus-snmp-exporter
ExecStart=/usr/bin/prometheus-snmp-exporter $ARGS
ExecReload=/bin/kill -HUP $MAINPID

[Install]
WantedBy=multi-user.target
</code></pre>

<p>And the obligatory <code>sudo systemctl daemon-reload</code> and <code>sudo systemctl start prometheus-snmp-exporter</code> -- and the prometheus.yml configuration:</p>

<pre><code>  - job_name: 'snmp'
    static_configs:
      - targets:
        - openmesh1.lan
        - nanohd1.lan
    metrics_path: /snmp
    params:
      module: [if_mib]
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: 127.0.0.1:9116  # The SNMP exporter's real hostname:port.
</code></pre>

<p>Then, after restarting prometheus, the data is available.</p>

<h1>Grafana</h1>

<p>Please do install grafana <code>sudo apt install grafana</code> -- you'll love it -- add prometheus as data source and be amazed.</p>

<p>Tags: <a href='tag_computer.html'>computer</a>, <a href='tag_software.html'>software</a></p>



<!-- text end -->
<p id='twitter'><a href="http://blog.dalsgaard.net//prometheus-amok.html#disqus_thread">Comments?</a> &nbsp;
<a href="https://twitter.com/share" class="twitter-share-button" data-text="&lt;Type your comment here but please leave the URL so that other people can follow the comments&gt;" data-url="http://blog.dalsgaard.net//prometheus-amok.html"
 data-via="jakobdalsgaard"
>Tweet</a>	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</p>
<h3><a class="ablack" href="convert-to-lightworks.html">
Convert to Lightworks
</a></h3>
<!-- bashblog_timestamp: #201906181123.07# -->
<div class="subtitle">June 18, 2019 &mdash; 
Jakob Dalsgaard
</div>
<!-- text begin -->

<p>The <a href="https://www.lwks.com/">Lightworks</a> application is a very nice <a href="https://en.wikipedia.org/wiki/Non-linear_editing_system">non-linear video editing system</a> -
and, when 720p is sufficient, free of charge! However, it's a bit picky on import
formats. I've found the easiest approach to this is installing <a href="https://ffmpeg.org/download.html">FFMpeg</a>
and batch converting everything you want to import to mpegts, FullHD, 46kHz stereo.</p>

<p><img src="media/lightworks-redshark.png" alt="Lightworks red shark" title="" /></p>

<p>To do so, I've created a script, should work on all unices, available here: <a href="http://convert-to-lightworks.dalsgaard.net/">convert-to-lightworks</a> 
-- and also a .bat file for Windows lusers, available here: <a href="http://convert-to-lightworks-bat.dalsgaard.net/">convert-to-lightworks.bat</a>.
They should both support just dropping files onto them from a file manager.</p>

<p>To installl ffmpeg on Elementary OS Freya release, do this:</p>

<pre><code>sudo cat "deb http://www.deb-multimedia.org wheezy main" &gt; /etc/apt/sources.list.d/deb-multimedia.list
sudo apt-get update
sudo apt-get install deb-multimedia-keyring
sudo apt-get install ffmpeg
</code></pre>

<p>Tags: <a href='tag_computer.html'>computer</a>, <a href='tag_video.html'>video</a>, <a href='tag_software.html'>software</a></p>





<!-- text end -->
<p id='twitter'><a href="http://blog.dalsgaard.net//convert-to-lightworks.html#disqus_thread">Comments?</a> &nbsp;
<a href="https://twitter.com/share" class="twitter-share-button" data-text="&lt;Type your comment here but please leave the URL so that other people can follow the comments&gt;" data-url="http://blog.dalsgaard.net//convert-to-lightworks.html"
 data-via="jakobdalsgaard"
>Tweet</a>	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</p>
<h3><a class="ablack" href="installing-musicip-mixer-on-debian-86-64-bit.html">
Installing MusicIP Mixer on Debian 8.6 64-bit
</a></h3>
<!-- bashblog_timestamp: #201906181123.07# -->
<div class="subtitle">June 18, 2019 &mdash; 
Jakob Dalsgaard
</div>
<!-- text begin -->

<p>In order to have automatic music mixing on a Logitech Media Server (former
Slimserver...), now a days you'll need the Music IP Mixer x86 installed. Running 
that beast on a 64-bit Debian 8.6 requires a bit of configuration.</p>

<p>First; make your platform support x86 (32-bit) binaries:</p>

<pre><code>sudo dpkg --add-architecture i386
sudo apt-get update
sudo apt-get install libgcc1:i386
</code></pre>

<p>Now, download the MusicIP software, version 1.8 from the Spicefly Sugarcube homepage:</p>

<p><a href="http://www.spicefly.com/article.php?page=musicip-software">Spicefly MusicIP Software</a>.</p>

<p>I then created a user for the MusicIP software, to keep things separated:</p>

<pre><code>sudo user-add -m --system musicip
</code></pre>

<p>Now, in the software bundle for Linux, there is an init script called <code>mmserver</code> -- 
just copy that one to <code>/etc/init.d</code> make it owned by root, and change the username therein
to <code>musicip</code> and the music home to <code>/home/musicip/MusicMagicMixer/</code> (remember the trailing slash).</p>

<p>You can now start the MusicMagicMixer with:</p>

<pre><code>/etc/init.d/mmserver start
</code></pre>

<p>It prints a wee bit on the terminal, but all is good. On all interfaces MusicMagicMixer is
now responding to port 10002. You can point your browser to it, and you'll have a fine
web UI. You can make it even finer if you download and install the Spicefly Sugarcube MusicIP
replacement UI: <a href="http://www.spicefly.com/article.php?page=musicip-headless-interface">MusicIP Replacement UI</a>.</p>

<p>Please support software, buy your license to Spicefly Sugarcube: <a href="http://www.spicefly.com/licensing/">SugarCube Licensing</a>.</p>

<p>Tags: <a href='tag_slimserver.html'>slimserver</a>, <a href='tag_squeezebox.html'>squeezebox</a>, <a href='tag_logitech.html'>logitech</a>, <a href='tag_software.html'>software</a>, <a href='tag_debian.html'>debian</a>, <a href='tag_linux.html'>linux</a></p>






<!-- text end -->
<p id='twitter'><a href="http://blog.dalsgaard.net//installing-musicip-mixer-on-debian-86-64-bit.html#disqus_thread">Comments?</a> &nbsp;
<a href="https://twitter.com/share" class="twitter-share-button" data-text="&lt;Type your comment here but please leave the URL so that other people can follow the comments&gt;" data-url="http://blog.dalsgaard.net//installing-musicip-mixer-on-debian-86-64-bit.html"
 data-via="jakobdalsgaard"
>Tweet</a>	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</p>
</div>
<div id="footer">CC by-nc-nd <a href="https://twitter.com/jakobdalsgaard">Jakob Dalsgaard</a> &mdash; <a href="mailto:jakob@#64;dalsgaard.#46;net">jakob@#64;dalsgaard.#46;net</a><br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jakob-dalsgaard-blog'; // required: replace example with your forum shortname

        /* * * DONT EDIT BELOW THIS LINE * * */
        (function () {
        var s = document.createElement("script"); s.async = true;
        s.type = "text/javascript";
        s.src = "//" + disqus_shortname + ".disqus.com/count.js";
        (document.getElementsByTagName("HEAD")[0] || document.getElementsByTagName("BODY")[0]).appendChild(s);
    }());
    </script>
</body></html>
